spring.application.name=mnotes

###  SRPING CLOUD CONFIG ###
#spring.config.import=optional:configserver:http://localhost:9101
spring.cloud.config.enabled=false

server.port=9002

# Configuration MongoDB
spring.data.mongodb.host=localhost
spring.data.mongodb.port=27017
spring.data.mongodb.database=test_notes
#spring.data.mongodb.authentication-database=admin
# Si tu utilises une authentification, décommente et complète les lignes suivantes :
# spring.data.mongodb.username=ton_utilisateur
# spring.data.mongodb.password=ton_mot_de_passe

# Configuration des logs
logging.level.root=INFO
logging.level.org.springframework=INFO
logging.level.org.springframework.data.mongodb=DEBUG
logging.level.com.microdiab=DEBUG

# EUREKA
eureka.client.serviceUrl.defaultZone:http://localhost:9102/eureka/

# RENOUVELLEMENT EUREKA
eureka.instance.leaseRenewalIntervalInSeconds=4

# Forcer IP locale au lieu du hostname de entreprise
eureka.instance.prefer-ip-address=true
eureka.instance.hostname=localhost

####  DISTRIBUTED TRACING  - SPRING CLOUD SLEUTH - MICROMETER TRACING  ####

# Configuration pour chaque microservice (mgateway, clientui, mpatient, mnotes)

# Activation de Micrometer Tracing
management.tracing.enabled=true

# Configuration des endpoints Actuator
management.endpoints.web.exposure.include=health,info,metrics,prometheus,tracing

# Configuration du tracing distribué
# 100% des traces (reduire en production ex: 0.1 pour 10%)
management.tracing.sampling.probability=1.0

# Configuration Zipkin
#management.zipkin.tracing.endpoint=http://localhost:9411/api/v2/spans        obsolète pour Micrometer Tracing
# recommandée pour Micrometer Tracing
management.tracing.zipkin.endpoint=http://localhost:9411/api/v2/spans
# Ou si Zipkin est dans un container Docker :
# management.zipkin.tracing.endpoint=http://zipkin:9411/api/v2/spans

# Propagation des en-têtes (format B3 pour la compatibilité avec Sleuth/Zipkin)
management.tracing.propagation.type=B3

# Configuration des logs pour inclure les trace ID et span ID
logging.pattern.level=%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]



##  /INFO  ##
info.app.version=mnotes- Version en cours de developpement
info.app.description=mnotes- MicroDiab, application d'analyse du diabete des patients
info.app.documentation=mnotes- Lien vers la documentation de l'application
info.app.information=mnotes- Informations utiles